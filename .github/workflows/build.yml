name: Build PS-Okta Module
on:
  push:
    branches: [main]

defaults:
  run:
    shell: pwsh

jobs:
  install-dependencies:
    name: Install Dependencies
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Install from PSGallery
        run: |
          Set-PSRepository PSGallery -InstallationPolicy Trusted
          Install-Module ModuleBuilder
  build-module:
    name: Build PS-Okta Module
    runs-on: ubuntu-latest
    needs: install-dependencies
    steps:
     - name: Build PS-Okta Module
       run: 
        Get-Location
        Get-ChildItem
